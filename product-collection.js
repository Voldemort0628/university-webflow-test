(function(u,h){typeof exports=="object"&&typeof module<"u"?module.exports=h(require("react")):typeof define=="function"&&define.amd?define(["react"],h):(u=typeof globalThis<"u"?globalThis:u||self,u.GrowlinkProductCollection=h(u.React))})(this,function(u){"use strict";var h={exports:{}},v={},Y;function z(){if(Y)return v;Y=1;/**
    * @license React
    * react-jsx-runtime.development.js
    *
    * Copyright (c) Meta Platforms, Inc. and affiliates.
    *
    * This source code is licensed under the MIT license found in the
    * LICENSE file in the root directory of this source tree.
    */return function(){function t(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ue?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case f:return"Fragment";case N:return"Profiler";case S:return"StrictMode";case se:return"Suspense";case ce:return"SuspenseList";case ie:return"Activity"}if(typeof e=="object")switch(typeof e.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),e.$$typeof){case g:return"Portal";case oe:return(e.displayName||"Context")+".Provider";case ne:return(e._context.displayName||"Context")+".Consumer";case ae:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case le:return r=e.displayName||null,r!==null?r:t(e.type)||"Memo";case L:r=e._payload,e=e._init;try{return t(e(r))}catch{}}return null}function o(e){return""+e}function c(e){try{o(e);var r=!1}catch{r=!0}if(r){r=console;var a=r.error,l=typeof Symbol=="function"&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object";return a.call(r,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",l),o(e)}}function s(e){if(e===f)return"<>";if(typeof e=="object"&&e!==null&&e.$$typeof===L)return"<...>";try{var r=t(e);return r?"<"+r+">":"<...>"}catch{return"<...>"}}function d(){var e=_.A;return e===null?null:e.getOwner()}function x(){return Error("react-stack-top-frame")}function y(e){if(D.call(e,"key")){var r=Object.getOwnPropertyDescriptor(e,"key").get;if(r&&r.isReactWarning)return!1}return e.key!==void 0}function j(e,r){function a(){U||(U=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",r))}a.isReactWarning=!0,Object.defineProperty(e,"key",{get:a,configurable:!0})}function E(){var e=t(this.type);return G[e]||(G[e]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),e=this.props.ref,e!==void 0?e:null}function k(e,r,a,l,p,m,A,C){return a=m.ref,e={$$typeof:T,type:e,key:r,props:m,_owner:p},(a!==void 0?a:null)!==null?Object.defineProperty(e,"ref",{enumerable:!1,get:E}):Object.defineProperty(e,"ref",{enumerable:!1,value:null}),e._store={},Object.defineProperty(e._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(e,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(e,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:A}),Object.defineProperty(e,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:C}),Object.freeze&&(Object.freeze(e.props),Object.freeze(e)),e}function P(e,r,a,l,p,m,A,C){var i=r.children;if(i!==void 0)if(l)if(de(i)){for(l=0;l<i.length;l++)R(i[l]);Object.freeze&&Object.freeze(i)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else R(i);if(D.call(r,"key")){i=t(e);var w=Object.keys(r).filter(function(fe){return fe!=="key"});l=0<w.length?"{key: someKey, "+w.join(": ..., ")+": ...}":"{key: someKey}",M[i+l]||(w=0<w.length?"{"+w.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
     let props = %s;
     <%s {...props} />
   React keys must be passed directly to JSX without using spread:
     let props = %s;
     <%s key={someKey} {...props} />`,l,i,w,i),M[i+l]=!0)}if(i=null,a!==void 0&&(c(a),i=""+a),y(r)&&(c(r.key),i=""+r.key),"key"in r){a={};for(var F in r)F!=="key"&&(a[F]=r[F])}else a=r;return i&&j(a,typeof e=="function"?e.displayName||e.name||"Unknown":e),k(e,i,m,p,d(),a,A,C)}function R(e){typeof e=="object"&&e!==null&&e.$$typeof===T&&e._store&&(e._store.validated=1)}var b=u,T=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),ie=Symbol.for("react.activity"),ue=Symbol.for("react.client.reference"),_=b.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.prototype.hasOwnProperty,de=Array.isArray,O=console.createTask?console.createTask:function(){return null};b={"react-stack-bottom-frame":function(e){return e()}};var U,G={},V=b["react-stack-bottom-frame"].bind(b,x)(),W=O(s(x)),M={};v.Fragment=f,v.jsx=function(e,r,a,l,p){var m=1e4>_.recentlyCreatedOwnerStacks++;return P(e,r,a,!1,l,p,m?Error("react-stack-top-frame"):V,m?O(s(e)):W)},v.jsxs=function(e,r,a,l,p){var m=1e4>_.recentlyCreatedOwnerStacks++;return P(e,r,a,!0,l,p,m?Error("react-stack-top-frame"):V,m?O(s(e)):W)}}(),v}var I;function B(){return I||(I=1,h.exports=z()),h.exports}var n=B();const J=(t,o)=>new Intl.NumberFormat("en-US",{style:"currency",currency:o}).format(parseFloat(t)),X=({product:t})=>{var s;const o=(s=t.images.edges[0])==null?void 0:s.node,c=t.priceRange.minVariantPrice;return n.jsxs("div",{className:"rounded-lg overflow-hidden shadow-md hover:shadow-lg bg-white flex flex-col h-full transition-transform duration-300 hover:-translate-y-1",children:[n.jsx("div",{className:"relative w-full pt-[100%] overflow-hidden",children:n.jsx("img",{className:"absolute top-0 left-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",src:o==null?void 0:o.originalSrc,alt:(o==null?void 0:o.altText)||t.title})}),n.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:t.title}),n.jsx("p",{className:"text-base font-medium text-growlink-green mb-2",children:J(c.amount,c.currencyCode)}),n.jsxs("p",{className:"text-sm text-gray-600 mb-4 flex-grow line-clamp-3",children:[t.description.substring(0,120),t.description.length>120?"...":""]}),n.jsx("button",{className:"bg-growlink-green hover:bg-growlink-dark-green text-white py-2 px-4 rounded font-medium transition-colors duration-300",children:"Add to Cart"})]})]})},K=({products:t,loading:o=!1})=>o?n.jsx("div",{className:"flex justify-center items-center min-h-[300px] w-full",children:n.jsx("div",{className:"w-10 h-10 border-4 border-gray-200 border-t-growlink-green rounded-full animate-spin"})}):!t||t.length===0?n.jsx("div",{className:"text-center py-10 text-lg text-gray-600",children:"No products found. Please check back later."}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 py-5",children:t.map(c=>n.jsx(X,{product:c},c.id))}),Z=(t,...o)=>t.reduce((c,s,d)=>`${c}${s}${d in o?String(o[d]):""}`,""),H="https://vercelapi-five.vercel.app/api/shopify",Q=async t=>{const o=Z`
       query getProductsByCollection($handle: String!) {
         collection(handle: $handle) {
           title
           products(first: 20) {
             edges {
               node {
                 id
                 title
                 handle
                 description
                 images(first: 1) {
                   edges {
                     node {
                       originalSrc
                       altText
                     }
                   }
                 }
                 priceRange {
                   minVariantPrice {
                     amount
                     currencyCode
                   }
                 }
                 variants(first: 10) {
                   edges {
                     node {
                       id
                       title
                       price
                       availableForSale
                     }
                   }
                 }
                 tags
               }
             }
           }
         }
       }
     `,c={handle:t};try{const s=await fetch(H,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:o,variables:c})});if(!s.ok)throw new Error(`Network response was not ok: ${s.status}`);const d=await s.json();if(d.errors)throw new Error(d.errors.map(x=>x.message).join(", "));return d.data}catch(s){return console.error("Error fetching products:",s),{collection:{title:"Products",products:{edges:[]}}}}},q=({collectionHandle:t,title:o})=>{const[c,s]=u.useState([]),[d,x]=u.useState(!0),[y,j]=u.useState(null),[E,k]=u.useState("title-asc"),[P,R]=u.useState(o||"");u.useEffect(()=>{(async()=>{try{x(!0),j(null);const f=await Q(t),S=f.collection.products.edges.map(N=>N.node);o||R(f.collection.title),s(S)}catch(f){j("Failed to load products. Please try again later."),console.error("Error fetching products:",f)}finally{x(!1)}})()},[t,o]);const b=[...c].sort((g,f)=>{switch(E){case"title-asc":return g.title.localeCompare(f.title);case"title-desc":return f.title.localeCompare(g.title);case"price-asc":return parseFloat(g.priceRange.minVariantPrice.amount)-parseFloat(f.priceRange.minVariantPrice.amount);case"price-desc":return parseFloat(f.priceRange.minVariantPrice.amount)-parseFloat(g.priceRange.minVariantPrice.amount);default:return 0}}),T=g=>{k(g.target.value)};return n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"mb-8 text-center",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-3",children:P}),n.jsx("p",{className:"text-base text-gray-600 max-w-2xl mx-auto",children:"Discover our premium selection of products designed to enhance your experience."})]}),y&&n.jsx("div",{className:"bg-red-50 text-red-700 p-4 rounded mb-6 text-center",children:y}),n.jsx("div",{className:"flex justify-end mb-6",children:n.jsxs("select",{value:E,onChange:T,className:"py-2 px-3 border border-gray-300 bg-white rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-growlink-green focus:border-growlink-green",children:[n.jsx("option",{value:"title-asc",children:"Name (A-Z)"}),n.jsx("option",{value:"title-desc",children:"Name (Z-A)"}),n.jsx("option",{value:"price-asc",children:"Price (Low to High)"}),n.jsx("option",{value:"price-desc",children:"Price (High to Low)"})]})}),n.jsx(K,{products:b,loading:d})]})},$={defaultCollection:"link-collection"},ee=typeof window<"u"&&typeof window.document<"u",re=t=>ee?new URLSearchParams(window.location.search).get(t):null;function te({collectionHandle:t,showHeader:o=!0}){const[c,s]=u.useState(t||$.defaultCollection);return u.useEffect(()=>{if(t){s(t);return}const d=re("collection");d&&s(d)},[t]),n.jsxs("div",{className:"min-h-screen bg-gray-50 py-10",children:[o&&n.jsx("header",{className:"text-center mb-8",children:n.jsx("div",{className:"text-2xl font-bold text-growlink-green mb-2",children:"GrowLink Shop"})}),n.jsx(q,{collectionHandle:c})]})}if(typeof window<"u"){const t=o=>n.jsx(u.StrictMode,{children:n.jsx(te,{...o})});window.GrowlinkProductCollection=t,console.log("GrowlinkProductCollection component loaded")}return{}});
   